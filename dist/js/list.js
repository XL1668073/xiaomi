"use strict";var arr_flashshop=[],falg1=!0;function getlist(){$.ajax({url:"../lib/flashlist.json",dataType:"json",success:function(t){arr_flashshop=t,falg1&&get_paji(t),bindHtml(t.slice(0,6))}})}function bindHtml(t){var a="";t.forEach(function(t){a+='\n        <li data-id="'.concat(t.list_id,'">\n        <img src="').concat(t.list_url,'" alt="">\n        <div>\n            <h3 class="name">').concat(t.list_name,'</h3>\n            <p class="desc">').concat(t.list_desc,'</p>\n            <span class="price">').concat(t.list_price,'</span>\n            <button class="btn" >查看详情</button>\n        </div>\n        </li>\n        ')}),$(".list-box").html(a)}function get_paji(i){falg1=!1,$(".pagi").pagination({pageCount:Math.ceil(i.length/6),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(t){var a=t.getCurrent();bindHtml(i.slice(6*(a-1),6*a))}})}getlist();var flag=!0;$(".sort").click(function(){flag=!flag,arr_flashshop.sort(function(t,a){return!0===flag?t.list_price-a.list_price:a.list_price-t.list_price}),get_paji(arr_flashshop),bindHtml(arr_flashshop.slice(0,6))}),$(".list-box").on("click","li",function(){for(var t=$(this).data("id"),a={},i=0;i<arr_flashshop.length;i++)if(arr_flashshop[i].list_id===t){a=arr_flashshop[i];break}localStorage.setItem("shop_detail",JSON.stringify(a)),window.location.href="./detail.html"});